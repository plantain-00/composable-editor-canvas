## API Report File for "composable-editor-canvas"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="react" />

import type { Patch } from 'immer/dist/types/types-external';
import * as React_2 from 'react';
import { WritableDraft } from 'immer/dist/types/types-external';

// @public (undocumented)
export function AlignmentLine(props: {
    value?: number;
    type: 'x' | 'y';
    transform?: Transform;
    style?: React_2.CSSProperties;
}): JSX.Element | null;

// @public (undocumented)
export const allDirections: readonly ["left", "right", "top", "bottom", "left-bottom", "left-top", "right-top", "right-bottom", "center"];

// @public (undocumented)
export interface Arc extends Circle {
    // (undocumented)
    endAngle: number;
    // (undocumented)
    startAngle: number;
}

// @public (undocumented)
export function bindMultipleRefs<T>(...refs: (React.ForwardedRef<T> | React.MutableRefObject<T | null>)[]): (r: T) => void;

// @public (undocumented)
export interface Circle extends Position {
    // (undocumented)
    r: number;
}

// @public (undocumented)
export function CircleArcEditBar(props: {
    x: number;
    y: number;
    r: number;
    startAngle: number;
    endAngle: number;
    scale?: number;
    resizeSize?: number;
    onClick?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'start angle' | 'end angle' | 'radius', cursor: React_2.CSSProperties['cursor']) => void;
    onMouseDown?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'start angle' | 'end angle' | 'radius', cursor: React_2.CSSProperties['cursor']) => void;
}): JSX.Element;

// @public (undocumented)
export interface CircleArcEditData<T = void> extends Arc {
    // (undocumented)
    cursor: React_2.CSSProperties['cursor'];
    // (undocumented)
    data?: T;
    // (undocumented)
    type: 'center' | 'start angle' | 'end angle' | 'radius';
}

// @public (undocumented)
export function CircleEditBar(props: {
    x: number;
    y: number;
    radius: number;
    scale?: number;
    resizeSize?: number;
    onClick?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'edge', cursor: React_2.CSSProperties['cursor']) => void;
    onMouseDown?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'edge', cursor: React_2.CSSProperties['cursor']) => void;
}): JSX.Element;

// @public (undocumented)
export interface CircleEditData<T = void> {
    // (undocumented)
    cursor: React_2.CSSProperties['cursor'];
    // (undocumented)
    data?: T;
    // (undocumented)
    r: number;
    // (undocumented)
    type: 'center' | 'edge';
    // (undocumented)
    x: number;
    // (undocumented)
    y: number;
}

// @public (undocumented)
export function DragMask(props: {
    onDragEnd: () => void;
    onDragging: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => void;
    ignoreLeavingEvent?: boolean;
    style?: React_2.CSSProperties;
    children?: React_2.ReactNode;
}): JSX.Element;

// @public (undocumented)
export function drawDashedLine(g: {
    moveTo: (x: number, y: number) => void;
    lineTo: (x: number, y: number) => void;
}, p1: Position, p2: Position, dashArray: number[], startDistance?: number): number;

// @public (undocumented)
export function drawDashedPolyline(g: {
    moveTo: (x: number, y: number) => void;
    lineTo: (x: number, y: number) => void;
}, points: Position[], dashArray: number[]): void;

// @public (undocumented)
export interface Ellipse {
    // (undocumented)
    angle?: number;
    // (undocumented)
    cx: number;
    // (undocumented)
    cy: number;
    // (undocumented)
    rx: number;
    // (undocumented)
    ry: number;
}

// @public (undocumented)
export function EllipseEditBar(props: {
    cx: number;
    cy: number;
    rx: number;
    ry: number;
    angle?: number;
    scale?: number;
    resizeSize?: number;
    onClick?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'major axis' | 'minor axis', cursor: React_2.CSSProperties['cursor']) => void;
    onMouseDown?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, type: 'center' | 'major axis' | 'minor axis', cursor: React_2.CSSProperties['cursor']) => void;
}): JSX.Element;

// @public (undocumented)
export interface EllipseEditData<T = void> {
    // (undocumented)
    cursor: React_2.CSSProperties['cursor'];
    // (undocumented)
    cx: number;
    // (undocumented)
    cy: number;
    // (undocumented)
    data?: T;
    // (undocumented)
    rx: number;
    // (undocumented)
    ry: number;
    // (undocumented)
    type: 'center' | 'major axis' | 'minor axis';
}

// @public (undocumented)
export interface GeneralFormLine {
    // (undocumented)
    a: number;
    // (undocumented)
    b: number;
    // (undocumented)
    c: number;
}

// @public (undocumented)
export function getBezierCurvePoints(p1: Position, p2: Position, p3: Position, p4: Position, segmentCount: number): Position[];

// @public (undocumented)
export function getBezierSplineControlPointsOfPoints(points: Position[]): (readonly [{
    readonly x: number;
    readonly y: number;
}, {
    readonly x: number;
    readonly y: number;
}])[];

// @public (undocumented)
export function getColorString(color: number): string;

// @public (undocumented)
export function getDefaultZoomOption(options?: Partial<ZoomOptions>): {
    min: number;
    max: number;
};

// @public (undocumented)
export function getEllipseRadiusOfAngle(ellipse: Ellipse, angle: number): number;

// @public (undocumented)
export function getFootPoint(point: Position, line: GeneralFormLine): Position;

// @public (undocumented)
export function getLineSegmentCircleIntersectionPoints(start: Position, end: Position, circle: Circle): {
    x: number;
    y: number;
}[];

// @public (undocumented)
export function getPointAndLineMinimumDistance(position: Position, point1: Position, point2: Position): number;

// @public (undocumented)
export function getPointAndRegionMaximumDistance(position: Position, region: TwoPointsFormRegion): number;

// @public (undocumented)
export function getPointAndRegionMinimumDistance(position: Position, region: TwoPointsFormRegion): number;

// @public (undocumented)
export function getPointByLengthAndDirection(startPoint: Position, length: number, directionPoint: Position): {
    x: number;
    y: number;
};

// @public (undocumented)
export function getPolygonPoints(point: Position, center: Position, sides: number, toEdge?: boolean): Position[];

// @public (undocumented)
export function getRegion(p1: Position, p2: Position): Region;

// @public (undocumented)
export function getResizeCursor(rotate: number, direction: ResizeDirection): string;

// @public (undocumented)
export function getSymmetryPoint(p: Position, { a, b, c }: GeneralFormLine): {
    x: number;
    y: number;
};

// @public (undocumented)
export function getThreePointsCircle(startPosition: Position, middlePosition: Position, endPosition: Position): {
    r: number;
    x: number;
    y: number;
};

// @public (undocumented)
export function getTwoCircleIntersectionPoints({ x: x1, y: y1, r: r1 }: Circle, { x: x2, y: y2, r: r2 }: Circle): Position[];

// @public (undocumented)
export function getTwoLinesIntersectionPoint(p1Start: Position, p1End: Position, p2Start: Position, p2End: Position): {
    x: number;
    y: number;
} | undefined;

// @public (undocumented)
export function getTwoNumbersDistance(n1: number, n2: number): number;

// @public (undocumented)
export function getTwoPointsDistance(point1: Position, point2: Position): number;

// @public (undocumented)
export function getTwoPointsFormRegion(p1: Position, p2: Position): TwoPointsFormRegion;

// @public (undocumented)
export function isBetween(target: number, a: number, b: number): boolean;

// @public (undocumented)
export function lineIntersectWithTwoPointsFormRegion(p1: Position, p2: Position, region: TwoPointsFormRegion): boolean;

// @public (undocumented)
export function pointIsInRegion(point: Position, region: TwoPointsFormRegion): boolean;

// @public (undocumented)
export function PolylineEditBar(props: {
    points: Position[];
    offset?: Position & {
        pointIndexes: number[];
    };
    scale?: number;
    resizeSize?: number;
    isPolygon?: boolean;
    midpointDisabled?: boolean;
    onClick?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, pointIndexes: number[]) => void;
    onMouseDown?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, pointIndexes: number[]) => void;
}): JSX.Element;

// @public (undocumented)
export interface Position {
    // (undocumented)
    x: number;
    // (undocumented)
    y: number;
}

// @public (undocumented)
export const reactCanvasRenderTarget: ReactRenderTarget<(ctx: CanvasRenderingContext2D) => void>;

// @public (undocumented)
export interface ReactRenderTarget<T = JSX.Element> {
    // (undocumented)
    fillText(x: number, y: number, text: string, color: number, fontSize: number): T;
    // (undocumented)
    getResult(children: T[], width: number, height: number, attributes?: Partial<React.DOMAttributes<HTMLOrSVGElement> & {
        style: React.CSSProperties;
    }>): JSX.Element;
    // (undocumented)
    strokeArc(cx: number, cy: number, r: number, startAngle: number, endAngle: number, color: number): T;
    // (undocumented)
    strokeCircle(cx: number, cy: number, r: number, color: number): T;
    // (undocumented)
    strokeEllipse(cx: number, cy: number, rx: number, ry: number, color: number, angle?: number): T;
    // (undocumented)
    strokePolyline(points: Position[], color: number, dashArray?: number[]): T;
    // (undocumented)
    strokeRect(x: number, y: number, width: number, height: number, color: number, angle?: number): T;
    // (undocumented)
    type: string;
}

// @public (undocumented)
export const reactSvgRenderTarget: ReactRenderTarget;

// @public (undocumented)
export interface Region extends Position, Size {
}

// @public (undocumented)
export function ResizeBar(props: {
    scale?: number;
    resizeSize?: number;
    directions?: ResizeDirection[];
    rotate?: number;
    onMouseDown?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, direction: ResizeDirection) => void;
    onClick?: (e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, direction: ResizeDirection) => void;
}): JSX.Element;

// @public (undocumented)
export type ResizeDirection = typeof allDirections[number];

// @public (undocumented)
export function reverseTransformX(x: number, transform?: Partial<Transform>): number;

// @public (undocumented)
export function reverseTransformY(y: number, transform?: Partial<Transform>): number;

// @public (undocumented)
export function rotatePositionByCenter(position: Position, center: Position, rotate: number): Position;

// @public (undocumented)
export function RotationBar(props: {
    scale: number;
    rotateStickLength?: number;
    rotateCircleSize?: number;
    onMouseDown: React_2.MouseEventHandler<HTMLOrSVGElement>;
}): JSX.Element;

// @public (undocumented)
export function Scrollbar(props: {
    value: number;
    type: 'horizontal' | 'vertical';
    contentSize: number;
    containerSize: number;
    onChange: (value: number) => void;
    style?: React_2.CSSProperties;
}): JSX.Element | null;

// @public (undocumented)
export interface Size {
    // (undocumented)
    height: number;
    // (undocumented)
    width: number;
}

// @public (undocumented)
export interface Transform extends Position {
    // (undocumented)
    containerSize: Size;
    // (undocumented)
    scale: number;
    // (undocumented)
    targetSize: Size;
}

// @public (undocumented)
export function transformPosition({ x, y }: Position, transform?: Partial<Transform>): {
    x: number;
    y: number;
};

// @public (undocumented)
export function twoPointLineToGeneralFormLine(point1: Position, point2: Position): GeneralFormLine;

// @public (undocumented)
export interface TwoPointsFormRegion {
    // (undocumented)
    end: Position;
    // (undocumented)
    start: Position;
}

// @public (undocumented)
export function useCircleArcClickCreate(type: '2 points' | '3 points' | 'center radius' | 'center diameter' | undefined, setCircleArc: (arc?: Arc) => void, onEnd: (arc: Arc) => void): {
    circleCreate: Circle | undefined;
    startPosition: Position | undefined;
    middlePosition: Position | undefined;
    cursorPosition: Position | undefined;
    onCircleArcClickCreateClick(e: {
        clientX: number;
        clientY: number;
    }): void;
    onCircleArcClickCreateMove(e: {
        clientX: number;
        clientY: number;
    }): void;
    circleArcClickCreateInput: JSX.Element | undefined;
};

// @public (undocumented)
export function useCircleArcEdit<T = void>(setCircleOffset: (offset: Arc & {
    data?: T;
}) => void, onEditEnd: () => void): {
    onStartEditCircle(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, data: CircleArcEditData<T>): void;
    circleEditMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useCircleClickCreate(type: '2 points' | '3 points' | 'center radius' | 'center diameter' | undefined, setCircle: (circle?: Circle) => void, onEnd: (circle: Circle) => void): {
    startPosition: Position | undefined;
    middlePosition: Position | undefined;
    cursorPosition: Position | undefined;
    setCursorPosition: React_2.Dispatch<React_2.SetStateAction<Position | undefined>>;
    onCircleClickCreateClick(e: {
        clientX: number;
        clientY: number;
    }): void;
    onCircleClickCreateMove(e: {
        clientX: number;
        clientY: number;
    }): void;
    circleClickCreateInput: JSX.Element | undefined;
};

// @public (undocumented)
export function useCircleEdit<T = void>(setCircleOffset: (offset: Circle & {
    data?: T;
}) => void, onEditEnd: () => void): {
    onStartEditCircle(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, data: CircleEditData<T>): void;
    circleEditMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useCursorInput(enabled: boolean, onKeyDown: (e: React_2.KeyboardEvent<HTMLInputElement>, text: string, cursorPosition: Position) => void): {
    cursorPosition: Position | undefined;
    setCursorPosition: React_2.Dispatch<React_2.SetStateAction<Position | undefined>>;
    clearText(): void;
    input: JSX.Element | undefined;
};

// @public (undocumented)
export function useDragMove<T = void>(setMoveOffset: (offset: Position, e?: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => void, onDragEnd?: () => void, options?: Partial<{
    scale: number;
    parentRotate: number;
    clone: boolean;
    getSnapPoint: (p: {
        clientX: number;
        clientY: number;
    }) => {
        clientX: number;
        clientY: number;
    };
    propagation: boolean;
}>): {
    dragMoveStartPosition: (Position & {
        data?: T | undefined;
    }) | undefined;
    onStartMove(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, startPosition?: Partial<Position & {
        data: T;
    }> | undefined): void;
    dragMoveMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useDragResize(setResizeOffset: (offset: Region, e?: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, direction?: ResizeDirection) => void, onDragEnd: () => void, options?: Partial<{
    centeredScaling: boolean | ((e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => boolean);
    keepRatio: number | undefined | ((e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => number | undefined);
    rotate: number;
    parentRotate: number;
    transform: Partial<Transform>;
}>): {
    dragResizeStartPosition: (Position & {
        direction: ResizeDirection;
    }) | undefined;
    onStartResize(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, direction: ResizeDirection): void;
    dragResizeMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useDragRotate(setRotate: (rotate: number | undefined, e?: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => void, onDragEnd: () => void, options?: Partial<{
    transform?: Partial<Transform>;
    parentRotate: number;
    getSnapPoint(p: {
        clientX: number;
        clientY: number;
    }): {
        clientX: number;
        clientY: number;
    };
}>): {
    dragRotateCenter: Position | undefined;
    onStartRotate: React_2.Dispatch<React_2.SetStateAction<Position | undefined>>;
    dragRotateMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useDragSelect<T = void>(onDragEnd: (dragSelectStartPosition: Position & {
    data?: T;
}, dragSelectEndPosition?: Position) => void, square?: boolean | ((e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>) => boolean)): {
    dragSelectStartPosition: (Position & {
        data?: T | undefined;
    }) | undefined;
    onStartSelect(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, data?: T | undefined): void;
    dragSelectMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useEllipseClickCreate(type: 'ellipse center' | 'ellipse endpoint' | undefined, setEllipse: (ellipse?: Ellipse) => void, onEnd: (ellipse: Ellipse) => void, options?: Partial<{
    getAngleSnap: (angle: number) => number | undefined;
}>): {
    startPosition: Position | undefined;
    middlePosition: Position | undefined;
    cursorPosition: Position | undefined;
    onEllipseClickCreateClick(e: {
        clientX: number;
        clientY: number;
    }): void;
    onEllipseClickCreateMove(e: {
        clientX: number;
        clientY: number;
    }): void;
    ellipseClickCreateInput: JSX.Element | undefined;
};

// @public (undocumented)
export function useEllipseEdit<T = void>(setEllipseOffset: (offset: Ellipse & {
    data?: T;
}) => void, onEditEnd: () => void): {
    onStartEditEllipse(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, data: EllipseEditData<T>): void;
    ellipseEditMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useKey(filter: (e: KeyboardEvent) => boolean, handler: (e: KeyboardEvent) => void, deps?: unknown[]): void;

// @public (undocumented)
export function useLineAlignment(delta: number): {
    lineAlignmentX: number | undefined;
    lineAlignmentY: number | undefined;
    changeOffsetByLineAlignment(offset: Region, direction: ResizeDirection, target: Region, xlines: number[], yLines: number[]): void;
    clearLineAlignments(): void;
};

// @public (undocumented)
export function useLineClickCreate(enabled: boolean, setLine: (line?: Position[]) => void, onEnd: (line: Position[]) => void, options?: Partial<{
    once: boolean;
    getAngleSnap: (angle: number) => number | undefined;
}>): {
    onLineClickCreateClick(e: {
        clientX: number;
        clientY: number;
    }): void;
    onLineClickCreateMove(e: {
        clientX: number;
        clientY: number;
    }): void;
    lineClickCreateInput: JSX.Element | undefined;
};

// @public (undocumented)
export function usePatchBasedUndoRedo<T, P>(defaultState: T, operator: P, options?: Partial<{
    onApplyPatches: (patches: Patch[], reversePatches: Patch[]) => void;
}>): {
    state: T;
    applyPatchFromOtherOperators: (patches: Patch[], reversePatches: Patch[], operator: P) => T;
    applyPatchFromSelf: (patches: Patch[], reversePatches: Patch[]) => T;
    setState: (recipe: (draft: WritableDraft<T>) => void) => T;
    canUndo: boolean;
    canRedo: boolean;
    undo: (e?: {
        preventDefault(): void;
    } | undefined) => void;
    redo: (e?: {
        preventDefault(): void;
    } | undefined) => void;
    stateIndex: number;
};

// @public (undocumented)
export function usePolygonClickCreate(enabled: boolean, setPolygon: (polygon?: Position[]) => void, onEnd: (polygon: Position[]) => void, options?: Partial<{
    toEdge: boolean;
    getAngleSnap: (angle: number) => number | undefined;
}>): {
    startPosition: Position | undefined;
    cursorPosition: Position | undefined;
    onPolygonClickCreateClick(e: {
        clientX: number;
        clientY: number;
    }): void;
    onPolygonClickCreateMove(e: {
        clientX: number;
        clientY: number;
    }): void;
    polygonClickCreateInput: JSX.Element | undefined;
    startSetSides(): void;
};

// @public (undocumented)
export function usePolylineEdit<T = void>(setPolylineOffset: (offset?: Position & {
    pointIndexes: number[];
    data?: T;
}) => void, onEditEnd: () => void): {
    onStartEditPolyline(e: React_2.MouseEvent<HTMLOrSVGElement, MouseEvent>, pointIndexes: number[], data?: T | undefined): void;
    polylineEditMask: JSX.Element | undefined;
};

// @public (undocumented)
export function useRegionAlignment(delta: number): {
    regionAlignmentX: number | undefined;
    regionAlignmentY: number | undefined;
    changeOffsetByRegionAlignment(offset: Position, target: Region, regions: Region[]): void;
    clearRegionAlignments(): void;
};

// @public (undocumented)
export function useUndoRedo<T>(defaultState: T): {
    state: T;
    stateIndex: number;
    setState: (recipe: (draft: WritableDraft<T>) => void) => T;
    canUndo: boolean;
    canRedo: boolean;
    undo: (e?: {
        preventDefault(): void;
    } | undefined) => void;
    redo: (e?: {
        preventDefault(): void;
    } | undefined) => void;
};

// @public (undocumented)
export function useWheelScroll<T extends HTMLElement>(setX: React_2.Dispatch<React_2.SetStateAction<number>>, setY: React_2.Dispatch<React_2.SetStateAction<number>>, maxOffsetX: number, maxOffsetY: number): React_2.MutableRefObject<T | null>;

// @public (undocumented)
export function useWheelZoom<T extends HTMLElement>(setScale: React_2.Dispatch<React_2.SetStateAction<number>>, options?: Partial<ZoomOptions>): React_2.MutableRefObject<T | null>;

// @public (undocumented)
export function useZoom(value: number, onChange: (value: number) => void, options?: Partial<{
    min: number;
    max: number;
    step: number;
}>): {
    canZoomIn: boolean;
    canZoomOut: boolean;
    zoomIn: (e?: {
        preventDefault(): void;
    } | undefined) => void;
    zoomOut: (e?: {
        preventDefault(): void;
    } | undefined) => void;
};

// @public (undocumented)
export interface ZoomOptions {
    // (undocumented)
    max: number;
    // (undocumented)
    min: number;
}

// (No @packageDocumentation comment for this package)

```
