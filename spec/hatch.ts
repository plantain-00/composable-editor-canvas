import test from 'ava'
import { HatchGeometries, getHatchByPosition } from '../src'

test('getHatchByPosition', (t) => {
  const lines1: HatchGeometries[] = [
    {
      id: 51,
      lines: [
        [
          {
            "x": 1569.672079185588,
            "y": -967.320126304418
          },
          {
            "x": 1520.426041943872,
            "y": -989.7145918996004
          }
        ],
        [
          {
            "x": 1520.426041943872,
            "y": -989.7145918996004
          },
          {
            "x": 1519.5742562290814,
            "y": -1043.8067238080619
          }
        ],
        [
          {
            "x": 1519.5742562290814,
            "y": -1043.8067238080619
          },
          {
            "x": 1483.0579913825236,
            "y": -1003.8912296364704
          }
        ],
        [
          {
            "x": 1483.0579913825236,
            "y": -1003.8912296364704
          },
          {
            "x": 1431.3501005892483,
            "y": -1019.7965213036176
          }
        ],
        [
          {
            "x": 1431.3501005892483,
            "y": -1019.7965213036176
          },
          {
            "x": 1458.0278450135988,
            "y": -972.7329236326433
          }
        ],
        [
          {
            "x": 1458.0278450135988,
            "y": -972.7329236326433
          },
          {
            "x": 1426.9223967315775,
            "y": -928.4708025754594
          }
        ],
        [
          {
            "x": 1426.9223967315775,
            "y": -928.4708025754594
          },
          {
            "x": 1479.9264143755668,
            "y": -939.2993937535383
          }
        ],
        [
          {
            "x": 1479.9264143755668,
            "y": -939.2993937535383
          },
          {
            "x": 1512.4100808952508,
            "y": -896.0386068588889
          }
        ],
        [
          {
            "x": 1512.4100808952508,
            "y": -896.0386068588889
          },
          {
            "x": 1518.4906209151848,
            "y": -949.7946419281933
          }
        ],
        [
          {
            "x": 1518.4906209151848,
            "y": -949.7946419281933
          },
          {
            "x": 1569.672079185588,
            "y": -967.320126304418
          }
        ]
      ]
    },
    {
      id: 52,
      lines: [
        {
          "type": "ellipse arc",
          "curve": {
            "cx": 1399.8553625758855,
            "cy": -882.9926913475381,
            "rx": 73.20201149711428,
            "ry": 94.15669390830384,
            "angle": 78.38988271340202,
            "startAngle": 0,
            "endAngle": 360
          }
        }
      ]
    }
  ]
  t.snapshot(getHatchByPosition({ x: 1506, y: -1002 }, { x: 4827.926789679547, y: -1002 }, () => lines1))
  t.snapshot(getHatchByPosition({ x: 1400, y: -892 }, { x: 4827.926789679547, y: -892 }, () => lines1))
})
